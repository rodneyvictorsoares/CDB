<div class="card">
    <h2>Cálculo de CDB</h2>
    <label for="valorInicial">Valor Inicial (R$):</label>
        <input type="number"
               id="valorInicial"
               [(ngModel)]="valorInicial"
               (ngModelChange)="onValorInicialChange($event)"
               min="0"
               step="0.01 "/>
    
    <label for="prazoEmMeses">Prazo (meses):</label>
        <input type="number"
               id="prazoEmMeses"
               [(ngModel)]="prazoEmMeses"
               (ngModelChange)="onPeriodoInicialChange($event)"
               min="1"
               step="1" />
    
    <button (click)="calcular()" [disabled]="loading">
        {{ loading ? 'Calculando...' : 'Calcular' }}
    </button>

    <div *ngIf="resultado">
        <p>Valor Bruto: {{ resultado.valorFinalBruto.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' }) }}</p>
        <p>Valor Líquido: {{ resultado.valorFinalLiquido.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' }) }}</p>
    </div>

</div>

<div class="modal-overlay" *ngIf="showErrorModal">
    <div class="modal-content">
        <h3>Erros de validação</h3>
        <ul>
            <li *ngFor="let msg of errorMessages">{{ msg }}</li>
        </ul>
        <button (click)="closeModal()">Fechar</button>
    </div>
</div>
